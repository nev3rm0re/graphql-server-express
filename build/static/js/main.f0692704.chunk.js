(this["webpackJsonpgraphql-client-react"]=this["webpackJsonpgraphql-client-react"]||[]).push([[0],{227:function(e,t,n){},228:function(e,t,n){},530:function(e,t,n){"use strict";n.r(t);var a,r,c,i,s,l,j,o,d=n(0),u=n(63),b=n.n(u),h=(n(227),n(114)),O=n(36),x=(n(228),n(7)),m=n(49),p=n(548),y=n(551),f=n(156),v=n(74),g=n(553),w=n(539),F=n(113),S=n(66),q=n(549),k=n(1),z=n(554),I=n(196),N=n.n(I),C=n(556),$=n(121),E=n(9),D=Object($.a)(C.a)(a||(a=Object(m.a)(["\n  font-size: 1.5em;\n"]))),L=$.a.div(r||(r=Object(m.a)(["\n  position: relative;\n\n  .copy-me {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n  }\n"]))),Q=function(e){return Object(E.jsxs)(L,{children:[Object(E.jsx)(N.a,{text:e.children,className:"copy-me",children:Object(E.jsx)(D,{})}),Object(E.jsx)(z.a,Object(k.a)(Object(k.a)({},e),{},{children:e.children}))]})},A=Object(g.a)(c||(c=Object(m.a)(["\n  query Unserialize($input: String!, $outputFormat: String!) {\n    unserialize(input: $input, outputFormat: $outputFormat)\n  }\n"]))),T=function(){var e=p.a.useForm(),t=Object(x.a)(e,1)[0],n=t.getFieldValue("outputFormat")||"json",a=Object(w.a)(A),r=Object(x.a)(a,2),c=r[0],i=r[1],s=i.data,l=(i.loading,i.error);return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(F.a,{children:[Object(E.jsx)(S.a,{span:12,xs:24,md:12,children:Object(E.jsx)(q.a,{title:"Unserializer",children:Object(E.jsxs)(p.a,{form:t,name:"serialized_input",onFinish:function(e){c({variables:{input:e.input,outputFormat:e.outputFormat||"json"}})},children:[Object(E.jsx)(p.a.Item,{name:"input",label:"Serialized input",rules:[{required:!0}],children:Object(E.jsx)(y.a.TextArea,{autoSize:{maxRows:10,minRows:4},allowClear:!0,value:""})}),Object(E.jsx)(p.a.Item,{name:"outputFormat",label:"Output format",children:Object(E.jsxs)(f.a.Group,{defaultValue:"json",value:"json",children:[Object(E.jsx)(f.a,{value:"json",children:"JSON"}),Object(E.jsx)(f.a,{value:"php",children:"var_export()"})]})}),Object(E.jsx)(p.a.Item,{children:Object(E.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}),Object(E.jsx)(S.a,{span:12,xs:24,md:12,children:Object(E.jsxs)(q.a,{title:"Output",children:[l&&l.graphQLErrors&&l.graphQLErrors[0].message,s&&s.unserialize?Object(E.jsx)(Q,{syntax:n,children:s.unserialize}):"Paste in a string of serialize()-d input to decode and display it here"]})})]})})},R=n(547),P=Object($.a)(R.a)(i||(i=Object(m.a)(["\n  .ant-table-tbody,\n  .ant-table-thead {\n    tr,\n    tr.ant-table-row,\n    tr.ant-table-row:hover {\n      td,\n      th {\n        padding-top: 4px;\n        padding-bottom: 4px;\n      }\n    }\n  }\n"]))),V=Object(g.a)(s||(s=Object(m.a)(["\n  query Site($sitename: String!) {\n    site(sitename: $sitename)\n  }\n"]))),B=function(){var e=p.a.useForm(),t=Object(x.a)(e,1)[0],n=Object(w.a)(V),a=Object(x.a)(n,2),r=a[0],c=a[1],i=c.data,s=(c.loading,c.error,i);s&&console.log("Site info is now",s);var l=s&&s.site?Object.entries(s.site).map((function(e){var t=Object(x.a)(e,2),n=t[0];return{key:n,name:n,value:t[1]}})):[];return console.log("SiteDATA",s,l),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(F.a,{children:[Object(E.jsx)(S.a,{span:12,xs:24,md:12,children:Object(E.jsx)(q.a,{title:"SitesAdmin",children:Object(E.jsxs)(p.a,{form:t,onFinish:function(e){r({variables:{sitename:e.sitename}})},children:[Object(E.jsx)(p.a.Item,{name:"sitename",label:"Domain name of the site",rules:[{required:!0}],children:Object(E.jsx)(y.a,{allowClear:!0})}),Object(E.jsx)(p.a.Item,{children:Object(E.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Query"})})]})})}),Object(E.jsx)(S.a,{span:12,xs:24,md:12,children:Object(E.jsx)(q.a,{title:"Output",children:Object(E.jsx)(P,{dataSource:l,scroll:{y:400},pagination:!1,columns:[{title:"Parameter",key:"parameter",dataIndex:"name"},{title:"Value",key:"parameter-value",dataIndex:"value"}]})})})]})})},G=n(541),J=n(90),U=n(48),_=n.n(U),H=n(72),K=Object(g.a)(l||(l=Object(m.a)(["\n  query($entityName: String) {\n    xenforoEntity(entityName: $entityName) {\n      shortName\n      contentType\n      table\n      primaryKey\n      columns {\n        columnName\n        type\n        autoIncrement\n        nullable\n        default\n        api\n        maxLength\n        required\n        censor\n        allowedValues\n      }\n    }\n  }\n"]))),M=function(e){var t=Object(d.useState)(""),n=Object(x.a)(t,2),a=n[0],r=n[1],c=Object(w.a)(K),i=Object(x.a)(c,2),s=i[0],l=i[1],j=l.data,o=l.loading,u=l.error;j&&!u&&console.log("got data for entity",j);var b=j?j.xenforoEntity.columns:[];return Object(E.jsxs)("div",{children:[Object(E.jsx)("input",{type:"text",value:a,onChange:function(e){return r(e.target.value)}}),Object(E.jsx)("button",{onClick:Object(H.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({variables:{entityName:a}});case 1:case"end":return e.stop()}}),e)}))),children:"Run"}),Object(E.jsx)("span",{children:o?"Loading...":""}),Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Type"}),Object(E.jsx)("th",{children:"Default"}),Object(E.jsx)("th",{children:"Allowed values"})]})}),b.map((function(e){return function(e){var t,n=e.required?Object(E.jsx)("b",{children:e.columnName}):e.columnName,a=e.type+(e.maxLength?"(".concat(e.maxLength,")"):""),r=e.default?Object(E.jsx)("i",{children:e.default}):"",c=(null===(t=e.allowedValues)||void 0===t?void 0:t.length)?e.allowedValues.map((function(e){return'"'.concat(e,'"')})).join("; "):"";return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:n}),Object(E.jsx)("td",{children:a}),Object(E.jsx)("td",{children:r}),Object(E.jsx)("td",{children:c})]})}(e)}))]})]})},W=n(540),X=Object(g.a)(j||(j=Object(m.a)(["\n  query {\n    databases\n  }\n"]))),Y=Object(g.a)(o||(o=Object(m.a)(["\n  query($query: String, $databases: [String]) {\n    multiQuery(databases: $databases, query: $query) {\n      database\n      isError\n      result {\n        rowCount\n      }\n    }\n  }\n"]))),Z=function(e,t){var n;if(""===e)return!0;try{n=t.match(e)}catch(a){n=(SyntaxError,!0)}return n},ee=function(e){var t=e.databases,n=e.onFilter,a=Object(d.useState)(""),r=Object(x.a)(a,2),c=r[0],i=r[1];return Object(d.useEffect)((function(){n(t.filter((function(e){return Z(c,e)})))}),[n,t,c]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("input",{name:"filter",value:c,onChange:function(e){return i(e.target.value)},placeholder:"Search for item..."}),Object(E.jsx)("ul",{children:t.filter((function(e){return Z(c,e)})).map((function(e){return Object(E.jsx)("li",{children:e},e)}))})]})},te=function(e){var t=e.filtered,n=e.queryFn,a=Object(d.useState)(""),r=Object(x.a)(a,2),c=r[0],i=r[1];return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{style:{display:"block"},children:"Query:"}),Object(E.jsx)("textarea",{onChange:function(e){return i(e.target.value)},value:c})]}),Object(E.jsx)("div",{children:Object(E.jsxs)("button",{onClick:function(e){return n(c)},children:["Run query on ",t.length," databases"]})})]})},ne=function(e){var t=e.results,n=e.error,a=t&&Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Database"}),Object(E.jsx)("th",{children:"Row count"})]})}),t.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.database}),Object(E.jsx)("td",{children:e.result.rowCount})]})}))]});return console.log("Got results",t),n?Object(E.jsx)("div",{children:n.message}):Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{children:["Results (",(null===t||void 0===t?void 0:t.length)||"N/A",")"]}),a]})},ae=function(e){var t=Object(W.a)(X),n=t.data,a=t.loading,r=t.error,c=Object(d.useState)([]),i=Object(x.a)(c,2),s=i[0],l=i[1],j=Object(w.a)(Y,{fetchPolicy:"network-only"}),o=Object(x.a)(j,2),u=o[0],b=o[1],h=b.data,O=b.loading,m=b.error;console.log("entriesData",h),m&&console.log("error on results",m);var p=h&&h.multiQuery?h.multiQuery:null;return r?Object(E.jsxs)("div",{children:["Error querying GraphQL. Details: ",(null===r||void 0===r?void 0:r.message)||""]}):Object(E.jsxs)("div",{style:{flexDirection:"row",display:"block"===e.style.display?"flex":"none"},children:[Object(E.jsxs)("div",{style:{width:"33%",height:"100vh"},children:[Object(E.jsxs)("p",{children:["Database list ",a?"(loading)":""]}),Object(E.jsx)("div",{children:!a&&Object(E.jsx)(ee,{databases:n.databases,onFilter:l})})]}),Object(E.jsxs)("div",{style:{width:"64%"},children:[Object(E.jsx)(te,{filtered:s,queryFn:function(e){var t={variables:{databases:s,query:e},fetchPolicy:"no-cache"};console.log("queryMulti vars",t),u(t)}}),Object(E.jsxs)("div",{children:["Results: ",O?"(loading...)":"",m?""+m:""]}),Object(E.jsx)(ne,{results:p,error:m})]})]})},re=G.a.Header,ce=G.a.Content;var ie=function(){return Object(E.jsx)(h.a,{children:Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)(G.a,{className:"layout",children:[Object(E.jsx)(re,{children:Object(E.jsxs)(J.a,{mode:"horizontal",theme:"dark",children:[Object(E.jsx)(J.a.Item,{children:Object(E.jsx)(h.b,{to:"/xf-entity",children:"Entity Browser"})}),Object(E.jsx)(J.a.Item,{children:Object(E.jsx)(h.b,{to:"/",children:"DBQuery"})}),Object(E.jsx)(J.a.Item,{children:Object(E.jsx)(h.b,{to:"/sites-admin",children:"Sites Admin"})}),Object(E.jsx)(J.a.Item,{children:Object(E.jsx)(h.b,{to:"/unserialize",children:"Unserialize"})})]})}),Object(E.jsxs)(ce,{children:[Object(E.jsx)(O.a,{path:"/",children:function(e){var t=e.match;return console.log("match",t),Object(E.jsx)(ae,{style:{display:t.isExact?"block":"none"}})}}),Object(E.jsx)(O.a,{exact:!0,path:"/xf-entity",component:M}),Object(E.jsx)(O.a,{exact:!0,path:"/sites-admin",component:B}),Object(E.jsx)(O.a,{exact:!0,path:"/unserialize",component:T})]})]})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,557)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},le=n(215),je=n(550),oe=n(552),de=n(546),ue=Object(le.a)({uri:"http://104.154.240.101/graphql"}),be=new je.a({link:ue,cache:new oe.a});b.a.render(Object(E.jsx)(de.a,{client:be,children:Object(E.jsx)(ie,{})}),document.getElementById("root")),se()}},[[530,1,2]]]);
//# sourceMappingURL=main.f0692704.chunk.js.map